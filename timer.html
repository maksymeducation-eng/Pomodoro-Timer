<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro Timer –¥–ª—è –°—Ç—É–¥–µ–Ω—Ç—ñ–≤</title>
    <style>
        /* ===== –ë–ê–ó–û–í–Ü –°–¢–ò–õ–Ü ===== */
        /* –°–∫–∏–¥–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –≤—ñ–¥—Å—Ç—É–ø—ñ–≤ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —à—Ä–∏—Ñ—Ç—É */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* ===== –°–í–Ü–¢–õ–ê –¢–ï–ú–ê (–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º) ===== */
        body.light-theme {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #333;
        }

        /* ===== –¢–ï–ú–ù–ê –¢–ï–ú–ê ===== */
        body.dark-theme {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: #ecf0f1;
        }

        /* ===== –ö–û–ù–¢–ï–ô–ù–ï–† –î–û–î–ê–¢–ö–£ ===== */
        .container {
            background: rgba(255, 255, 255, 0.95);
            padding: 50px;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            text-align: center;
            max-width: 500px;
            width: 90%;
            transition: background 0.3s ease;
        }

        body.dark-theme .container {
            background: rgba(52, 73, 94, 0.95);
        }

        /* ===== –ó–ê–ì–û–õ–û–í–û–ö ===== */
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .subtitle {
            font-size: 1.1em;
            opacity: 0.7;
            margin-bottom: 30px;
        }

        /* ===== –í–ï–†–•–ù–Ø –ü–ê–ù–ï–õ–¨ –ó –ü–ï–†–ï–ú–ò–ö–ê–ß–ê–ú–ò ===== */
        .top-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            gap: 10px;
        }

        .control-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
            background: rgba(100, 100, 100, 0.1);
        }

        .control-btn:hover {
            transform: scale(1.05);
            background: rgba(100, 100, 100, 0.2);
        }

        /* ===== –¢–ê–ô–ú–ï–† (–í–ï–õ–ò–ö–Ü –¶–ò–§–†–ò) ===== */
        .timer-display {
            font-size: 6em;
            font-weight: 300;
            margin: 30px 0;
            letter-spacing: 5px;
        }

        /* ===== –°–¢–ê–¢–£–° –°–ï–°–Ü–á ===== */
        .session-status {
            font-size: 1.3em;
            margin-bottom: 20px;
            padding: 10px 20px;
            border-radius: 20px;
            display: inline-block;
            font-weight: 500;
        }

        /* –ö–æ–ª—å–æ—Ä–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ —Å–µ—Å—ñ–π */
        .work-session {
            background: #ffcccb;
            color: #d63031;
        }

        .short-break-session {
            background: #d4f1f4;
            color: #00b894;
        }

        .long-break-session {
            background: #dfe6e9;
            color: #6c5ce7;
        }

        body.dark-theme .work-session {
            background: rgba(214, 48, 49, 0.3);
            color: #ff7675;
        }

        body.dark-theme .short-break-session {
            background: rgba(0, 184, 148, 0.3);
            color: #55efc4;
        }

        body.dark-theme .long-break-session {
            background: rgba(108, 92, 231, 0.3);
            color: #a29bfe;
        }

        /* ===== –ü–†–û–ì–†–ï–°-–ë–ê–† ===== */
        .progress-container {
            width: 100%;
            height: 10px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ee5a6f);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        /* ===== –õ–Ü–ß–ò–õ–¨–ù–ò–ö –¶–ò–ö–õ–Ü–í ===== */
        .cycles-info {
            font-size: 1.1em;
            margin: 20px 0;
            opacity: 0.8;
        }

        .cycle-dots {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .cycle-dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .cycle-dot.completed {
            background: #00b894;
            transform: scale(1.2);
        }

        /* ===== –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–Ü–ù–ù–Ø ===== */
        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        button {
            padding: 15px 40px;
            font-size: 1.1em;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        button:active {
            transform: translateY(0);
        }

        #startBtn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        #pauseBtn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            display: none;
        }

        #resetBtn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        /* ===== –ê–î–ê–ü–¢–ò–í–ù–Ü–°–¢–¨ –î–õ–Ø –ú–û–ë–Ü–õ–¨–ù–ò–• ===== */
        @media (max-width: 600px) {
            .container {
                padding: 30px;
            }

            h1 {
                font-size: 2em;
            }

            .timer-display {
                font-size: 4em;
            }

            button {
                padding: 12px 30px;
                font-size: 1em;
            }

            .controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body class="light-theme">
    <div class="container">
        <!-- –í–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å –∑ –ø–µ—Ä–µ–º–∏–∫–∞—á–∞–º–∏ -->
        <div class="top-controls">
            <button class="control-btn" id="themeBtn">üåô –¢–µ–º–Ω–∞ —Ç–µ–º–∞</button>
            <button class="control-btn" id="langBtn">üá¨üáß English</button>
        </div>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <h1 id="mainTitle">‚è∞ Pomodoro Timer</h1>
        <p class="subtitle" id="subtitle">–ù–∞–≤—á–∞–π—Å—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –±–µ–∑ –≤—ñ–¥–≤–æ–ª—ñ–∫–∞–Ω—å</p>

        <!-- –°—Ç–∞—Ç—É—Å –ø–æ—Ç–æ—á–Ω–æ—ó —Å–µ—Å—ñ—ó -->
        <div class="session-status work-session" id="sessionStatus">–†–æ–±–æ—á–∞ —Å–µ—Å—ñ—è</div>

        <!-- –í–µ–ª–∏–∫–∏–π —Ç–∞–π–º–µ—Ä -->
        <div class="timer-display" id="timerDisplay">25:00</div>

        <!-- –ü—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar" style="width: 0%"></div>
        </div>

        <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ü–∏–∫–ª–∏ -->
        <div class="cycles-info">
            <span id="cyclesText">–¶–∏–∫–ª: 1 –∑ 4</span>
            <div class="cycle-dots" id="cycleDots">
                <div class="cycle-dot"></div>
                <div class="cycle-dot"></div>
                <div class="cycle-dot"></div>
                <div class="cycle-dot"></div>
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è -->
        <div class="controls">
            <button id="startBtn">‚ñ∂ –°—Ç–∞—Ä—Ç</button>
            <button id="pauseBtn">‚è∏ –ü–∞—É–∑–∞</button>
            <button id="resetBtn">üîÑ –°–∫–∏–Ω—É—Ç–∏</button>
        </div>
    </div>

    <script>
        // ===== –ü–ï–†–ï–ö–õ–ê–î–ò –î–õ–Ø –î–í–û–• –ú–û–í =====
        const translations = {
            uk: {
                title: '‚è∞ Pomodoro Timer',
                subtitle: '–ù–∞–≤—á–∞–π—Å—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –±–µ–∑ –≤—ñ–¥–≤–æ–ª—ñ–∫–∞–Ω—å',
                workSession: '–†–æ–±–æ—á–∞ —Å–µ—Å—ñ—è',
                shortBreak: '–ö–æ—Ä–æ—Ç–∫–∞ –ø–µ—Ä–µ—Ä–≤–∞',
                longBreak: '–î–æ–≤–≥–∞ –ø–µ—Ä–µ—Ä–≤–∞',
                cycle: '–¶–∏–∫–ª',
                of: '–∑',
                start: '‚ñ∂ –°—Ç–∞—Ä—Ç',
                pause: '‚è∏ –ü–∞—É–∑–∞',
                reset: 'üîÑ –°–∫–∏–Ω—É—Ç–∏',
                darkTheme: 'üåô –¢–µ–º–Ω–∞ —Ç–µ–º–∞',
                lightTheme: '‚òÄÔ∏è –°–≤—ñ—Ç–ª–∞ —Ç–µ–º–∞',
                language: 'üá¨üáß English',
                timeToWork: '–ß–∞—Å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏! üí™',
                timeToRest: '–ß–∞—Å –≤—ñ–¥–ø–æ—á–∏—Ç–∏! ‚òï',
                cycleComplete: '–¶–∏–∫–ª –∑–∞–≤–µ—Ä—à–µ–Ω–æ! üéâ'
            },
            en: {
                title: '‚è∞ Pomodoro Timer',
                subtitle: 'Study effectively without distractions',
                workSession: 'Work Session',
                shortBreak: 'Short Break',
                longBreak: 'Long Break',
                cycle: 'Cycle',
                of: 'of',
                start: '‚ñ∂ Start',
                pause: '‚è∏ Pause',
                reset: 'üîÑ Reset',
                darkTheme: 'üåô Dark Theme',
                lightTheme: '‚òÄÔ∏è Light Theme',
                language: 'üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞',
                timeToWork: 'Time to work! üí™',
                timeToRest: 'Time to rest! ‚òï',
                cycleComplete: 'Cycle complete! üéâ'
            }
        };

        // ===== –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø TA–ô–ú–ï–†–ê =====
        const WORK_TIME = 25 * 60; // 25 —Ö–≤–∏–ª–∏–Ω —É —Å–µ–∫—É–Ω–¥–∞—Ö
        const SHORT_BREAK = 5 * 60; // 5 —Ö–≤–∏–ª–∏–Ω
        const LONG_BREAK = 15 * 60; // 15 —Ö–≤–∏–ª–∏–Ω
        const TOTAL_CYCLES = 4; // –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ü–∏–∫–ª—ñ–≤

        // ===== –ó–ú–Ü–ù–ù–Ü –°–¢–ê–ù–£ =====
        let timeLeft = WORK_TIME; // –ß–∞—Å, —â–æ –∑–∞–ª–∏—à–∏–≤—Å—è
        let totalTime = WORK_TIME; // –ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å —Å–µ—Å—ñ—ó
        let isRunning = false; // –ß–∏ –ø—Ä–∞—Ü—é—î —Ç–∞–π–º–µ—Ä
        let currentCycle = 1; // –ü–æ—Ç–æ—á–Ω–∏–π —Ü–∏–∫–ª
        let sessionType = 'work'; // –¢–∏–ø —Å–µ—Å—ñ—ó: work, shortBreak, longBreak
        let timerInterval = null; // –Ü–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–π–º–µ—Ä–∞
        let currentLang = 'uk'; // –ü–æ—Ç–æ—á–Ω–∞ –º–æ–≤–∞

        // ===== –û–¢–†–ò–ú–ê–ù–ù–Ø –ï–õ–ï–ú–ï–ù–¢–Ü–í HTML =====
        const timerDisplay = document.getElementById('timerDisplay');
        const progressBar = document.getElementById('progressBar');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const sessionStatus = document.getElementById('sessionStatus');
        const cyclesText = document.getElementById('cyclesText');
        const cycleDots = document.getElementById('cycleDots');
        const themeBtn = document.getElementById('themeBtn');
        const langBtn = document.getElementById('langBtn');
        const mainTitle = document.getElementById('mainTitle');
        const subtitle = document.getElementById('subtitle');

        // ===== –°–¢–í–û–†–ï–ù–ù–Ø –ó–í–£–ö–£ –î–õ–Ø –°–ü–û–í–Ü–©–ï–ù–¨ =====
        // –°—Ç–≤–æ—Ä—é—î–º–æ –∞—É–¥—ñ–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–≤—É–∫—É
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        function playNotificationSound() {
            // –°—Ç–≤–æ—Ä—é—î–º–æ –æ—Å—Ü–∏–ª—è—Ç–æ—Ä (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–≤—É–∫—É)
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–≤—É–∫—É
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 800; // –ß–∞—Å—Ç–æ—Ç–∞ –∑–≤—É–∫—É
            oscillator.type = 'sine'; // –¢–∏–ø —Ö–≤–∏–ª—ñ
            
            // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≥—É—á–Ω–æ—Å—Ç—ñ
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            
            // –í—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–≤—É–∫—É
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);
        }

        // ===== –§–£–ù–ö–¶–Ü–Ø –û–ù–û–í–õ–ï–ù–ù–Ø –ü–ï–†–ï–ö–õ–ê–î–Ü–í =====
        function updateTranslations() {
            const t = translations[currentLang];
            mainTitle.textContent = t.title;
            subtitle.textContent = t.subtitle;
            startBtn.textContent = t.start;
            pauseBtn.textContent = t.pause;
            resetBtn.textContent = t.reset;
            langBtn.textContent = t.language;
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É —Ç–µ–º–∏
            const isDark = document.body.classList.contains('dark-theme');
            themeBtn.textContent = isDark ? t.lightTheme : t.darkTheme;
            
            updateSessionStatus();
            updateCyclesDisplay();
        }

        // ===== –§–£–ù–ö–¶–Ü–Ø –§–û–†–ú–ê–¢–£–í–ê–ù–ù–Ø –ß–ê–°–£ =====
        // –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Å–µ–∫—É–Ω–¥–∏ —É —Ñ–æ—Ä–º–∞—Ç MM:SS
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // ===== –û–ù–û–í–õ–ï–ù–ù–Ø –í–Ü–î–û–ë–†–ê–ñ–ï–ù–ù–Ø –¢–ê–ô–ú–ï–†–ê =====
        function updateDisplay() {
            timerDisplay.textContent = formatTime(timeLeft);
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä—É (—Å–∫—ñ–ª—å–∫–∏ % —á–∞—Å—É –ø—Ä–æ–π—à–ª–æ)
            const progress = ((totalTime - timeLeft) / totalTime) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // ===== –û–ù–û–í–õ–ï–ù–ù–Ø –°–¢–ê–¢–£–°–£ –°–ï–°–Ü–á =====
        function updateSessionStatus() {
            const t = translations[currentLang];
            // –í–∏–¥–∞–ª—è—î–º–æ –≤—Å—ñ –∫–ª–∞—Å–∏
            sessionStatus.className = 'session-status';
            
            // –î–æ–¥–∞—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –∫–ª–∞—Å —Ç–∞ —Ç–µ–∫—Å—Ç
            if (sessionType === 'work') {
                sessionStatus.classList.add('work-session');
                sessionStatus.textContent = t.workSession;
            } else if (sessionType === 'shortBreak') {
                sessionStatus.classList.add('short-break-session');
                sessionStatus.textContent = t.shortBreak;
            } else if (sessionType === 'longBreak') {
                sessionStatus.classList.add('long-break-session');
                sessionStatus.textContent = t.longBreak;
            }
        }

        // ===== –û–ù–û–í–õ–ï–ù–ù–Ø –í–Ü–î–û–ë–†–ê–ñ–ï–ù–ù–Ø –¶–ò–ö–õ–Ü–í =====
        function updateCyclesDisplay() {
            const t = translations[currentLang];
            cyclesText.textContent = `${t.cycle}: ${currentCycle} ${t.of} ${TOTAL_CYCLES}`;
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ—á–æ–∫ (–ø–æ–∫–∞–∑—É—î –∑–∞–≤–µ—Ä—à–µ–Ω—ñ —Ü–∏–∫–ª–∏)
            const dots = cycleDots.querySelectorAll('.cycle-dot');
            dots.forEach((dot, index) => {
                if (index < currentCycle - 1) {
                    dot.classList.add('completed');
                } else {
                    dot.classList.remove('completed');
                }
            });
        }

        // ===== –°–¢–ê–†–¢ –¢–ê–ô–ú–ï–†–ê =====
        function startTimer() {
            if (isRunning) return; // –Ø–∫—â–æ –≤–∂–µ –ø—Ä–∞—Ü—é—î, –Ω—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏–º–æ
            
            isRunning = true;
            startBtn.style.display = 'none';
            pauseBtn.style.display = 'inline-block';
            
            // –ó–∞–ø—É—Å–∫–∞—î–º–æ —ñ–Ω—Ç–µ—Ä–≤–∞–ª, —è–∫–∏–π –æ–Ω–æ–≤–ª—é—î —Ç–∞–π–º–µ—Ä —â–æ—Å–µ–∫—É–Ω–¥–∏
            timerInterval = setInterval(() => {
                timeLeft--;
                updateDisplay();
                
                // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –≤ localStorage
                saveState();
                
                // –ö–æ–ª–∏ —á–∞—Å –∑–∞–∫—ñ–Ω—á–∏–≤—Å—è
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    isRunning = false;
                    playNotificationSound();
                    switchSession(); // –ü–µ—Ä–µ–∫–ª—é—á–∞—î–º–æ –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω—É —Å–µ—Å—ñ—é
                }
            }, 1000);
        }

        // ===== –ü–ê–£–ó–ê –¢–ê–ô–ú–ï–†–ê =====
        function pauseTimer() {
            isRunning = false;
            clearInterval(timerInterval);
            startBtn.style.display = 'inline-block';
            pauseBtn.style.display = 'none';
            saveState();
        }

        // ===== –°–ö–ò–î–ê–ù–ù–Ø –¢–ê–ô–ú–ï–†–ê =====
        function resetTimer() {
            isRunning = false;
            clearInterval(timerInterval);
            
            // –°–∫–∏–¥–∞—î–º–æ –¥–æ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É
            currentCycle = 1;
            sessionType = 'work';
            timeLeft = WORK_TIME;
            totalTime = WORK_TIME;
            
            updateDisplay();
            updateSessionStatus();
            updateCyclesDisplay();
            
            startBtn.style.display = 'inline-block';
            pauseBtn.style.display = 'none';
            
            saveState();
        }

        // ===== –ü–ï–†–ï–ú–ò–ö–ê–ù–ù–Ø –ú–Ü–ñ –°–ï–°–Ü–Ø–ú–ò =====
        function switchSession() {
            const t = translations[currentLang];
            
            if (sessionType === 'work') {
                // –ü—ñ—Å–ª—è —Ä–æ–±–æ—Ç–∏ - –ø–µ—Ä–µ—Ä–≤–∞
                if (currentCycle >= TOTAL_CYCLES) {
                    // –î–æ–≤–≥–∞ –ø–µ—Ä–µ—Ä–≤–∞ –ø—ñ—Å–ª—è 4 —Ü–∏–∫–ª—ñ–≤
                    sessionType = 'longBreak';
                    timeLeft = LONG_BREAK;
                    totalTime = LONG_BREAK;
                    alert(t.cycleComplete);
                } else {
                    // –ö–æ—Ä–æ—Ç–∫–∞ –ø–µ—Ä–µ—Ä–≤–∞
                    sessionType = 'shortBreak';
                    timeLeft = SHORT_BREAK;
                    totalTime = SHORT_BREAK;
                    alert(t.timeToRest);
                }
            } else {
                // –ü—ñ—Å–ª—è –ø–µ—Ä–µ—Ä–≤–∏ - —Ä–æ–±–æ—Ç–∞
                if (sessionType === 'longBreak') {
                    // –ü—ñ—Å–ª—è –¥–æ–≤–≥–æ—ó –ø–µ—Ä–µ—Ä–≤–∏ —Å–∫–∏–¥–∞—î–º–æ —Ü–∏–∫–ª–∏
                    currentCycle = 1;
                } else {
                    // –ó–±—ñ–ª—å—à—É—î–º–æ –ª—ñ—á–∏–ª—å–Ω–∏–∫ —Ü–∏–∫–ª—ñ–≤
                    currentCycle++;
                }
                
                sessionType = 'work';
                timeLeft = WORK_TIME;
                totalTime = WORK_TIME;
                alert(t.timeToWork);
            }
            
            updateDisplay();
            updateSessionStatus();
            updateCyclesDisplay();
            saveState();
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Å—Ç–∞—Ä—Ç –Ω–∞—Å—Ç—É–ø–Ω–æ—ó —Å–µ—Å—ñ—ó
            startTimer();
        }

        // ===== –ü–ï–†–ï–ú–ò–ö–ê–ù–ù–Ø –¢–ï–ú–ò =====
        function toggleTheme() {
            const isDark = document.body.classList.toggle('dark-theme');
            const t = translations[currentLang];
            themeBtn.textContent = isDark ? t.lightTheme : t.darkTheme;
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // ===== –ü–ï–†–ï–ú–ò–ö–ê–ù–ù–Ø –ú–û–í–ò =====
        function toggleLanguage() {
            currentLang = currentLang === 'uk' ? 'en' : 'uk';
            localStorage.setItem('language', currentLang);
            updateTranslations();
        }

        // ===== –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø –°–¢–ê–ù–£ –í LOCALSTORAGE =====
        function saveState() {
            const state = {
                timeLeft,
                totalTime,
                isRunning,
                currentCycle,
                sessionType
            };
            localStorage.setItem('pomodoroState', JSON.stringify(state));
        }

        // ===== –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ø –°–¢–ê–ù–£ –ó LOCALSTORAGE =====
        function loadState() {
            const savedState = localStorage.getItem('pomodoroState');
            if (savedState) {
                const state = JSON.parse(savedState);
                timeLeft = state.timeLeft;
                totalTime = state.totalTime;
                currentCycle = state.currentCycle;
                sessionType = state.sessionType;
                
                updateDisplay();
                updateSessionStatus();
                updateCyclesDisplay();
            }
            
            // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–µ–º–∏
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                themeBtn.textContent = translations[currentLang].lightTheme;
            }
            
            // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–≤–∏
            const savedLang = localStorage.getItem('language');
            if (savedLang) {
                currentLang = savedLang;
                updateTranslations();
            }
        }

        // ===== –î–û–î–ê–í–ê–ù–ù–Ø –û–ë–†–û–ë–ù–ò–ö–Ü–í –ü–û–î–Ü–ô =====
        startBtn.addEventListener('click', startTimer);
        pauseBtn.addEventListener('click', pauseTimer);
        resetBtn.addEventListener('click', resetTimer);
        themeBtn.addEventListener('click', toggleTheme);
        langBtn.addEventListener('click', toggleLanguage);

        // ===== –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø –ü–†–ò –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ü –°–¢–û–†–Ü–ù–ö–ò =====
        window.addEventListener('load', () => {
            loadState();
            updateDisplay();
        });

        // ===== –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø –°–¢–ê–ù–£ –ü–ï–†–ï–î –ó–ê–ö–†–ò–¢–¢–Ø–ú –í–ö–õ–ê–î–ö–ò =====
        window.addEventListener('beforeunload', saveState);
    </script>
</body>
</html>